In this section we will give a proof of the James Splitting Theorem relying only on universality, therefore in particular proving it for general \inftytops/. 
The main source is %https://arxiv.org/pdf/1912.04130.pdf
.

We begin by introducing the objects that we want to work with.
\begin{definition}
    Let $C$ be an \inftytop/ and let $X,Y\in \left(C_*\right)_0$ be pointed objects. 
    Then we let 
    \begin{itemize}
        \item the pushout
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                X \arrow[r] \arrow[d] & * \arrow[d, "i_0"] \\
                * \arrow[r, "i_1"] & \Sigma X \\
            \end{tikzcd}
        \end{center}
        be the \emph{suspension of $X$}
        \item the pullback
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                \Omega Y \arrow[r] \arrow[d] & * \arrow[d] \\
                * \arrow[r] & Y \\
            \end{tikzcd}
        \end{center}
        be the \emph{loop space of $Y$}
        \item the pushout
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                * \arrow[r] \arrow[d] & Y \arrow[d] \\
                X \arrow[r] & X\vee Y \\
            \end{tikzcd}
        \end{center}
        be the \emph{wedge sum of $X$ and $Y$} 
        \item and the pushout 
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                X\vee Y \arrow[r] \arrow[d] & X\times Y \arrow[d] \\
                * \arrow[r] & X\wedge Y \\
            \end{tikzcd}
        \end{center}
        be the \emph{smash product of $X$ and $Y$} (where the map $X\vee Y\to X\times Y$ is the canonical map from the universal property induced by the maps $X\vee Y\to X$ and $X\vee Y\to Y$).
    \end{itemize}
\end{definition}
The next lemma is a key lemma of this proof.
There is some subtlety involved in it, see \cref{rmk:mapNotProj}.
\begin{lemma}\label{lem:existenceOfPoSq} %TODO ON THE JAMES AND HILTONâ€“MILNOR SPLITTINGS, & THE METASTABLE EHP SEQUENCE lemma 2.17
    Let $C$ be an \inftytop/ and let $X\in \left(C_*\right)_0$ be a pointed object.
    Then there exists a pushout square  
    \begin{center}
        \begin{tikzcd} [sep = 4em]
            X\times\Omega\Sigma X \arrow[r, "\pi_2"] \arrow[d, "\alpha"] & \Omega\Sigma X \arrow[d] \\
            \Omega\Sigma X \arrow[r] & * \\
        \end{tikzcd}\;.
    \end{center}
    \begin{proof}
        The definition of $\Sigma X$
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                X \arrow[r] \arrow[d] & * \arrow[d, "i_0"] \\
                * \arrow[r, "i_1"] & \Sigma X \\
            \end{tikzcd}
        \end{center}
        shows that $i_1$ and $i_2$ are equivalent maps in $C$ (meaning identical in $\ho(C)$), since $X\to *\xrightarrow{i_0}\Sigma X$ and $X\to *\xrightarrow{i_1}\Sigma X$ are identical in $\ho(C)$ by construction and the canonical point $x\colon*\to X$ is a right inverse to $X\to *$.
        Thus we get that both
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                \Omega\Sigma X \arrow[r] \arrow[d] & * \arrow[d, "i_0"] \\
                * \arrow[r, "i_0"] & \Sigma X \\
            \end{tikzcd}
            \begin{tikzcd} [sep = 4em]
                \Omega\Sigma X \arrow[r] \arrow[d] & * \arrow[d, "i_0"] \\
                * \arrow[r, "i_1"] & \Sigma X \\
            \end{tikzcd}
        \end{center}
        are pullback squares.
        Now we pick a product together with projections to obtain a pullback square 
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                X\times\Omega\Sigma X \arrow[r, "\pi_2"] \arrow[d, "\pi_1"] & \Omega\Sigma X \arrow[d] \\
                X \arrow[r] & * \\
            \end{tikzcd}
        \end{center}
        and assemble these pullback squares into a diagram
        \begin{center}
            \begin{tikzcd} [sep = .5 cm]
                X\times\Omega\Sigma X \arrow [rr, "\pi_2"] \arrow [dd, "\pi_1"] & & \Omega\Sigma X \arrow [dr] \arrow[dd] \\
                & \Omega\Sigma X \arrow [rr, crossing over] & & * \arrow [dd, "i_0"] & \\
                X \arrow [dr] \arrow [rr] & & * \arrow [dr, "i_0"] \\
                & * \arrow [from=uu,crossing over] \arrow [rr, "i_1"] & & \Sigma X &
            \end{tikzcd}
        \end{center}
        where three vertical squares are pullback and the bottom square is a pushout.
        We now want to construct a map $\alpha\colon X\times\Omega\Sigma X\to\Omega\Sigma X$ such that we have a commutative cube with all vertical sides pullbacks.
        By %TODO Kerodon Lemma 1.4.7.5. 
        the map $\Lambda_1^2\times\Delta^1\cup_{\Lambda_1^2\times\set{1}}\Delta^2\times\Delta^1\to\Delta^2\times\Delta^1$ is inner anodyne, so we can lift
        \begin{center}
            \begin{tikzcd} [sep = .5 cm]
                X\times\Omega\Sigma X \arrow [rr, "\pi_2"] \arrow [dd, "\pi_1"] & & \Omega\Sigma X \arrow [dr] \arrow[dd] \\
                & & & * \arrow [dd, "i_0"] & \\
                X \arrow [drrr] \arrow [rr] & & * \arrow [dr, "i_0"] \\
                & & & \Sigma X &
            \end{tikzcd}
        \end{center}
        and obtain 
        \begin{center}
            \begin{tikzcd} [sep = .5 cm]
                X\times\Omega\Sigma X \arrow [rr, "\pi_2"] \arrow [dd, "\pi_1"] & & \Omega\Sigma X \arrow [dr] \arrow[dd] \\
                & \Omega\Sigma X \arrow [rr, crossing over] & & * \arrow [from=ulll, crossing over, shorten >= 1.1em]  \arrow [dd, "i_0"] & \\
                X \arrow [dr] \arrow [rr] \arrow [drrr, shorten >= 3pt] & & * \arrow [dr, "i_0"] \\
                & * \arrow [from=uu,crossing over] \arrow [rr, swap, "i_1"] & & \Sigma X &
            \end{tikzcd}
        \end{center}
        where the back prism commutes.
        In the subdiagram
        \begin{center}
            \begin{tikzcd} [sep = .5 cm]
                X\times\Omega\Sigma X \arrow [dd] \arrow [dddrrr, "j"] & & \\
                & & & \\
                X \arrow [dr] \arrow [drrr, shorten >= 3pt] & & \\
                & * \arrow[from=uuul, crossing over] \arrow [rr, swap, "i_1"] & & \Sigma X\\
            \end{tikzcd}
        \end{center}
        all faces except the one opposite to $X$ commute and since this corresponds to a map $\Lambda^3_1\to C$, we can lift it to a map $\Delta^3\to C$.
        Thus we can construct the commutative square
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                X\times\Omega\Sigma X \arrow[r] \arrow[d] \arrow[dr, "j"] & * \arrow[d, "i_0"] \\
                * \arrow[r, "i_1"] & \Sigma X \\
            \end{tikzcd}
        \end{center}
        and this induces a map $\Delta^1\star\left(\Delta^1\times\Delta^1\right)\to C$ corresponding to a diagram
        \begin{center}
            \begin{tikzcd} [sep = .5 cm]
                X\times\Omega\Sigma X \arrow[dr, near end, outer sep= -1.5pt, "\alpha", shorten >=-0.5em] \arrow [drrr] \arrow [dash, dddrrr, shorten >= 2.5cm] \arrow [dddrrr, near end, "j", shorten <= 2cm] & & \\
                & \Omega\Sigma X \arrow [dd,  crossing over] \arrow [rr] & & * \arrow[dd, "i_0"]\\
                & & \\
                & * \arrow[from=uuul] \arrow [rr, swap, "i_1"] & & \Sigma X\\
            \end{tikzcd}
        \end{center}
        since
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                \Omega\Sigma X \arrow[r] \arrow[d] & * \arrow[d, "i_0"] \\
                * \arrow[r, "i_1"] & \Sigma X \\
            \end{tikzcd}
        \end{center}
        is a pullback square.
        This fills the remaining simplices of the desired cube.

        The outer square of 
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                X\times\Omega\Sigma X \arrow[d, "\pi_1"] \arrow[r, "\alpha"] & \Omega\Sigma X \arrow[r] \arrow[d] & * \arrow[d, "i_0"] \\
                X \arrow[r] & * \arrow[r, "i_1"] & \Sigma X \\
            \end{tikzcd}
        \end{center}
        is a pullback square since 
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                X\times\Omega\Sigma X \arrow[d, "\pi_1"] \arrow[r, "\pi_2"] & \Omega\Sigma X \arrow[r] \arrow[d] & * \arrow[d, "i_0"] \\
                X \arrow[r] & * \arrow[r, "i_0"] & \Sigma X \\
            \end{tikzcd}
        \end{center}
        is one and top and their top and bottom maps are equivalent.
        Thus by the pasting law all vertical squares of the cube
        \begin{center}
            \begin{tikzcd} [sep = .5 cm]
                X\times\Omega\Sigma X \arrow [dr, "\alpha"] \arrow [rr, "\pi_2"] \arrow [dd, "\pi_1"] & & \Omega\Sigma X \arrow [dr] \arrow[dd] \\
                & \Omega\Sigma X \arrow [rr, crossing over] & & * \arrow [dd, "i_0"] & \\
                X \arrow [dr] \arrow [rr] & & * \arrow [dr, "i_0"] \\
                & * \arrow [from=uu,crossing over] \arrow [rr, "i_1"] & & \Sigma X &
            \end{tikzcd}
        \end{center}
        are pullbacks and since the bottom square is a pushout, by universality the top square is pushout which finishes the proof.
    \end{proof}
\end{lemma}
\begin{remark}\label{rmk:mapNotProj}
    The map $\alpha\colon X\times\Omega\Sigma X\to\Omega\Sigma X$ can in general not be identified with the projection $\pi_2$.
    This is because we are not able to choose the map $\alpha$ freely since the higher simplices must be compatible along the ''diagonal'' of our cube (which our map $\alpha$ fulfills by construction).

    If we assume $\alpha=\pi_2$ then by universality we have that 
    \begin{center}
        \begin{tikzcd} [sep = 4em]
            X\times \Omega\Sigma X \arrow[r,"\pi_2"] \arrow[d, "\pi_2"] & \Omega\Sigma X \arrow[d] \\
            \Omega\Sigma X \arrow[r] & \Sigma X \times \Omega\Sigma X\\
        \end{tikzcd}
    \end{center}
    is a pushout.
    But $\Omega\Sigma X\times \Sigma X$ is not generally contractible. 
\end{remark}
\begin{corollary}\label{lem:poOfProductIsSuspension} %Lemma 2.19
    Let $C$ be an \inftytop/ and let $X\in \left(C_*\right)_0$ be a pointed object. 
    Then there exists a square
    \begin{center}
        \begin{tikzcd} [sep = 4em]
            X\times\Omega\Sigma X \arrow[r, "\pi_2"] \arrow[d] & \Omega\Sigma X \arrow[d] \\
            * \arrow[r] & \Sigma\Omega\Sigma X \\
        \end{tikzcd}
    \end{center}
    that is a pushout.
    \begin{proof}
        This follows from \cref{lem:existenceOfPoSq} and the pasting lemma applied to 
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                X\times\Omega\Sigma X \arrow[r, "\pi_2"] \arrow[d] & \Omega\Sigma X \arrow[d] \\
                \Omega\Sigma X \arrow[r] \arrow[d] & * \arrow[d] \\
                * \arrow[r] & \Sigma\Omega\Sigma X \\
            \end{tikzcd}\;.
        \end{center}
    \end{proof}
\end{corollary}
We will also need to prove some basic facts about wedges and smash products.
\begin{lemma}\label{lem:poOfCollapseMapsIsTrivial}
    Let $C$ be an \inftytop/ and let $X,Y\in \left(C_*\right)_0$ be pointed objects. 
    Then 
    \begin{center}
        \begin{tikzcd} [sep = 4em]
            X\vee Y \arrow[r] \arrow[d] & Y \arrow[d] \\
            X \arrow[r] & * \\
        \end{tikzcd}
    \end{center}
    is a pushout.
    \begin{proof}
        This follows from repeatedly applying the pasting law to 
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                * \arrow[r] \arrow[d] & Y \arrow[r] \arrow[d] & * \arrow[d] \\
                X \arrow[r] \arrow[d] & X\vee Y \arrow[r] \arrow[d] & X \arrow[d]\\
                * \arrow[r] & Y \arrow[r] & * \\
            \end{tikzcd}\;.
        \end{center}
    \end{proof}
\end{lemma}
\begin{lemma}\label{lem:poSqWithFactoringTerminal}
    Let $C$ be an \inftytop/ and let $X,Y\in \left(C_*\right)_0$ be pointed objects. 
    Then there is a pushout square
    \begin{center}
        \begin{tikzcd} [sep = 4em]
            X\times Y \arrow[r, "\pi_2"] \arrow[d, "\pi_1"] & Y \arrow[d] \\
            X \arrow[r] & \Sigma\left(X\wedge Y\right) \\
        \end{tikzcd}
    \end{center}
    such that the unlabeled morphisms factor through the terminal object.
    \begin{proof}
        The colimit of the diagram 
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                * & * \arrow[l] \arrow[r] & * \\
                X \arrow[d, equal] \arrow[u] & X\vee Y \arrow[l]  \arrow[r] \arrow[d] \arrow[u] & Y \arrow[d, equal] \arrow[u] \\
                X  & X\times Y \arrow[l] \arrow[r] & Y \\
            \end{tikzcd}
        \end{center}
        can be computed by either taking pushouts of the rows and then the pushout of the resulting diagram, or taking pushouts of the columns and then taking pushout of the resulting diagram.
        
        Taking pushouts of the rows results in the diagram $*\xleftarrow{}*\rightarrow X\cup_{X\times Y} Y$ where we use \cref{lem:poOfCollapseMapsIsTrivial} and taking pushouts of the columns results in the diagram $*\xleftarrow{}X\wedge Y\rightarrow *$. 
        Since the pushout of the latter diagram is $\Sigma\left(X\wedge Y\right)$ and the pushout of the first diagram must be equivalent to this, we have $X\cup_{X\times Y} Y\cong\Sigma\left(X\wedge Y\right)$.
        The maps $X\to\Sigma\left(X\wedge Y\right)$ and $Y\to\Sigma\left(X\wedge Y\right)$ factor through $*$ by construction which proves the proposition.
    \end{proof}
\end{lemma}
\begin{lemma}\label{lem:allSqArePo} %TODO corollary 2.24
    Let $C$ be an \inftytop/ and let $X,Y\in \left(C_*\right)_0$ be pointed objects. 
    Then all squares of the diagram         
    \begin{center}
        \begin{tikzcd} [sep = 4em]
            X\times Y \arrow[r, "\pi_2"] \arrow[d, "\pi_1"] & Y \arrow[r] \arrow[d] & * \arrow[d] \\
            X \arrow[r] \arrow[d] & \Sigma\left(X\wedge Y\right) \arrow[r] \arrow[d] & \Sigma Y\vee\Sigma\left(X\wedge Y\right) \arrow[d]\\
            * \arrow[r] &  \Sigma X\vee\Sigma\left(X\wedge Y\right)\arrow[r] & \Sigma X\vee\Sigma Y\vee\Sigma\left(X\wedge Y\right) \\
        \end{tikzcd}\;.
    \end{center}
    are pushouts.
    \begin{proof}
        By \cref{lem:poSqWithFactoringTerminal} the top left square is a pushout square.
        The top right square is a pushout by the pasting law applied to
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                Y \arrow[r] \arrow[d] & * \arrow[d] \\
                * \arrow[r] \arrow[d] & \Sigma Y \arrow[d] \\
                \Sigma\left(X\wedge Y\right) \arrow[r] & \Sigma Y\vee\Sigma\left(X\wedge Y\right) \\
            \end{tikzcd}\
        \end{center}
        because $Y\to\Sigma\left(X\wedge Y\right)$ factors through $*$ (again by \cref{lem:poSqWithFactoringTerminal}).
        The analogous argument also shows that the bottom left square is a pushout.

        The bottom right square is a pushout since for pointed objects $A,B,C\in \left(C_*\right)_0$ the square
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                B \arrow[r] \arrow[d] &  B\vee C \arrow[d] \\
                A\vee B \arrow[r] & A\vee B\vee C\\
            \end{tikzcd}
        \end{center}
        is always a pushout and the wedge sum is commutative. %TODO prove associativity+commutativity and maybe reference it here
    \end{proof}
\end{lemma}
The following corollary is not needed for the James Spliting Theorem, however it is useful and immediate from what we have already shown.
\begin{corollary}
    Let $C$ be an \inftytop/ and let $X,Y\in \left(C_*\right)_0$ be pointed objects. 
    Then we have $\Sigma\left(X\times Y\right)\cong\Sigma X\vee\Sigma Y\vee\Sigma\left(X\wedge Y\right)$.
    \begin{proof}
        The outer square of \cref{lem:allSqArePo} proves this immediately. 
    \end{proof}
\end{corollary}
\begin{lemma}\label{lem:suspensionCommutesWithProduct}
    Let $C$ be an \inftytop/ and let $X,Y\in \left(C_*\right)_0$ be pointed objects. 
    Then there is a canonical equivalence $\Sigma\left(X\times Y\right)\cong X\times\Sigma Y$.
    \begin{proof}
        The squares
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                X\vee Y \arrow[r] \arrow[d] &  X\vee * \arrow[d] \\
                X\vee * \arrow[r] & X\vee\Sigma Y\\
            \end{tikzcd}
            \begin{tikzcd} [sep = 4em]
                X\times Y \arrow[r] \arrow[d] &  X\times * \arrow[d] \\
                X\times * \arrow[r] & X\times\Sigma Y\\
            \end{tikzcd}\
        \end{center}
        are both pushouts; the first one as colimits commute and the second one due to universality. %TODO maybe explain at some earlier point how universality is equivalent to base change
        Computing the pushout of the diagram as in \cref{lem:poSqWithFactoringTerminal}
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                * & * \arrow[l] \arrow[r] & * \\
                X\vee * \arrow[d, equal] \arrow[u] & X\vee Y \arrow[l]  \arrow[r] \arrow[d] \arrow[u] & X\vee * \arrow[d, equal] \arrow[u] \\
                X\times *  & X\times Y \arrow[l] \arrow[r] & X\times * \\
            \end{tikzcd}
        \end{center}
        we get $X\times\Sigma Y$ by computing the pushout of the pushouts of the rows and $\Sigma\left(X\times Y\right)$ by computing the pushout of the pushouts of the columns, which proves the proposition.
    \end{proof}
\end{lemma}
\begin{corollary}[James Splitting]
    Let $C$ be an \inftytop/ and let $X,Y\in \left(C_*\right)_0$ be pointed objects. 
    Then there exists a canonical equivalence $\Sigma\Omega\Sigma X\cong\Sigma X\vee\left(X\wedge\Sigma\Omega\Sigma X\right)$.
    \begin{proof}
        Applying \cref{lem:allSqArePo} to $X$ and $Y=\Omega\Sigma X$, the left vertical and top horizontal maps of the big left square (top and bottom left squares combined) are equivalent to the maps of the square in \cref{lem:poOfProductIsSuspension}.
        Since both are pushout squares, we get an equivalence $\Sigma\Omega\Sigma X\cong\Sigma X\vee\Sigma\left(X\wedge\Omega\Sigma X\right)$ and the proposition follows from \cref{lem:suspensionCommutesWithProduct}.
    \end{proof}
\end{corollary}