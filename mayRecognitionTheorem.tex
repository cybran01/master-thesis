A pointed connected object $X$ (see \cref{def:catOfPtdConnObj}) in an \inftytop/ is \emph{deloopable} if there exists a pointed object $A$ such that $X\simeq\Omega A$ (as pointed objects). %TODO introduce loop spacehere and not only in  james splitting thm

In this section we will give a proof of the fact that a pointed connected object $X$ is deloopable if and only if it admits additional algebraic structure, which we assemble into a \emph{group object} (see \cref{def:grpObj}). %TODO mention stasheff
The idea and presentation of the proof given here is due to \cite{segal_cat_and_cohom}.
We will see that descent plays a major role in this.

A generalization characterizing higher loop spaces was proven in \cite{may2006geometry} and is called the \emph{May Recognition Theorem}. %TODO see also https://ncatlab.org/nlab/show/delooping#characterization_of_deloopable_objects Stasheff
\begin{definition}[(Augmented) Simplicial Objects]
    Let $C$ be an \inftycat/. 
    We call a map $U\colon\N(\Delta)^{\op}\to C$ a \emph{simplicial object of the \inftycat/ $C$}.
    We call a map $U^+\colon\N(\Delta_+)^{\op}\to C$ an \emph{augmented simplicial object of the \inftycat/ $C$}.
\end{definition}
\begin{definition}[Groupoid Object]
    Let $C$ be an \inftycat/ and let $U\colon\N(\Delta)^{\op}\to C$ be a simplicial object such that for every $n\in\Nat$ and partition $[n]=S\cup T$ with $S\cap T=\set{s}$ consisting of a single element, the square (see \cref{def:simpSet})
    \begin{center}
        \begin{tikzcd}[sep = 4em]
            U_n \ar[r] \ar[d] & U_S \ar[d]\\
            U_T \ar[r] &  U_{\set{s}}
        \end{tikzcd}
    \end{center}
    is a pullback square in $C$.

    Then we call $U$ a \emph{groupoid object of $C$}.
    We let $\Gpd(C)$ denote the full subcategory of $\Fun(\N(\Delta)^{\op},C)$ consisting of groupoid objects.
\end{definition}
\begin{definition}[Group Object]\label{def:grpObj}
    Let $C$ be an \inftycat/ and let $U\colon\N(\Delta)^{\op}\to C$ be a groupoid object.
    If $U_0\cong *$ where $*$ is a terminal object of $C$, then we call $U$ a \emph{group object of $C$}.
\end{definition}
\begin{definition}[\Cech/ Nerve]
    Let $C$ be an \inftycat/ with small limits and let $\Delta^1\subset\N(\Delta_+)^{\op}$ be the inclusion corresponding to the full subcategory $[0]\to[-1]$.
    
    Then by \cref{prop:exKanExt} there exists a functor $\CN\colon\Fun(\Delta^1,C)\to\Fun(\N(\Delta_+)^{\op},C)$ that is right adjoint to the restriction functor $F\colon\Fun(\N(\Delta_+)^{\op},C)\to\Fun(\Delta^1,C)$ and for a map $f\colon x\to y\in\Fun(\Delta^1,C)_0$ is the right Kan-extension of $f$ along $\Delta^1\subset\N(\Delta_+)^{\op}$.
    An object $U^+\in\Fun(\N(\Delta_+)^{\op},C)_0$ in the essential image of $\CN$ is called a \emph{\Cech/ nerve}.
\end{definition}
\begin{remark}
    Computing the \Cech/ nerve for a map $f\colon x\to y$ explicitly via \cref{def:ptwiseKanExt}, one can see that up to equivalence it is given by
    \begin{center}
        \begin{tikzcd}
            & \CN(f)_3 & \CN(f)_2 & \CN(f)_1 & \CN(f)_0 & \CN(f)_{-1} \\ 
            \ldots \arrow[r] \arrow[r, yshift=-1em] \arrow[r, yshift=1em] \arrow[r, yshift=-2em] \arrow[r, yshift=2em] 
            & x\times_y x \times_y x \times_y x \arrow[r, yshift=.5em] \arrow[r, yshift=-.5em] \arrow[r, yshift=1.5em] \arrow[r, yshift=-1.5em] \arrow[l, yshift=.5em] \arrow[l, yshift=-.5em] \arrow[l, yshift=1.5em] \arrow[l, yshift=-1.5em]
            & x\times_y x \times_y x\arrow[r] \arrow[r, yshift=-1em] \arrow[r, yshift=1em] \arrow[l] \arrow[l, yshift=-1em] \arrow[l, yshift=1em]
            & x\times_y x \arrow[r, yshift=.5em] \arrow[r, yshift=-.5em] \arrow[l, yshift=.5em] \arrow[l, yshift=-.5em]
            & x \arrow[l] \arrow[r, "f"] & y
        \end{tikzcd}
    \end{center}
    where
    \begin{itemize}
        \item the arrows going from left to right are the maps induced by the face maps and are projections 
        \item the arrows going from right to left are the maps induced by the degeneracy maps and are diagonal maps. 
    \end{itemize}
    Here we have only shown a selection of the $1$-skeleton of $\CN(f)$.
    The remaining maps of $\Delta_+$ are however compositions of the shown face and degeneracy maps, which determines the $1$-skeleton; for all higher simplices we make choices via the universal property of the iterated pullbacks, which all yield equivalent objects $\CN(f)$.
\end{remark}
\begin{definition}[Effective Groupoid Object]
    Let $C$ be an \inftycat/ with small colimits and let $U\colon\N(\Delta)^{\op}\to C$ be a groupoid object.
    Then we call $U$ \emph{effective} if the diagram 
    \begin{center} %TODO add face maps!
        \begin{tikzcd}[sep = 4em]
            U_1 \ar[r,"\delta_0^1"] \ar[d,"\delta_1^1"] & U_0 \ar[d]\\
            U_0 \ar[r] & \colim\limits_{\N(\Delta)^{\op}} U
        \end{tikzcd}
    \end{center}
    is a pullback square.
\end{definition}
We will need the following proposition which provides an alternative characterization of a \Cech/ nerve.
\begin{prop}\label{prop:grpdEffectiveIfPullback} 
    Let $C$ be an \inftycat/ and $U^+\colon\N(\Delta_+)^{\op}\to C$ an augmented simplicial object.
    Then it is a \Cech/ nerve if and only if $U^+|_{\N(\Delta)^{\op}}$ is a groupoid object and the square
    \begin{center}
        \begin{tikzcd} [sep = 4em] %TODO introduce formalism of face and degeneracy maps, best in def if simplex cat
            U_1^+ \arrow[r, "\delta_0^1"] \arrow[d, "\delta_1^1"'] & U_0^+ \arrow[d] \\
            U_0^+ \arrow[r] & U_{-1}^+ \\
        \end{tikzcd}
    \end{center}
    is a pullback square.
    \begin{reference}
        \cite[Proposition 6.1.2.11]{HTT}
    \end{reference}
\end{prop}
\begin{corollary}\label{cor:groupoidEffectiveIffColimCechNerve}
    Let $C$ be an \inftycat/ with small colimits. 
    Then a groupoid object $U\colon\N(\Delta)^{\op}\to C$ is effective if and only if its induced colimit cone $\N(\Delta)^{\op}\star\Delta^0\cong\N(\Delta_+)^{\op}\to C$ is a \Cech/ nerve.
    \begin{proof}
        This follows directly from the equivalent characterization of an effective groupoid from \cref{prop:grpdEffectiveIfPullback}.
    \end{proof}
\end{corollary}
The following proposition allows us to construct colimit diagrams out of simplicial objects by shifting the degrees.
\begin{prop}\label{prop:shiftIsColimDiam}
    Let $C$ be an \inftycat/ and $U\colon\N(\Delta)^{\op}\to C$ a simplicial object.
    Let $F\colon\Delta_+\to\Delta$ denote the functor sending 
    \begin{itemize}
        \item objects $[n]\in\Delta_+$ to $F([n])=[n+1]$
        \item morphisms $f\colon [m]\to[n]$ of $\Delta_+$ to 
        \begin{align*}
            F(f)\colon [m+1]&\to[n+1]\\
            i&\mapsto
            \begin{cases}
                f(i) & 0\leq i\leq m\\
                n+1 & i=m+1\;.
            \end{cases}
        \end{align*}
        
        Then the augmented simplicial object $\overline{U}=U\circ\N(F)^{\op}$ is a colimit diagram.
    \end{itemize}
    \begin{reference}
        \cite[Lemma 6.1.3.17 (1)]{HTT}
    \end{reference}
\end{prop}
The following proposition is at the heart of our proof. 
The proof follows \cite[pp. 29-30]{toposes_and_htpy_toposes}.
\begin{prop}\label{prop:groupoidObjInToposAreEffective}
    Let $C$ be an \inftytop/.
    Then every groupoid object $U\colon\N(\Delta)^{\op}\to C$ is effective.
    \begin{proof}
        Let $\overline{U}$ be defined as in \cref{prop:shiftIsColimDiam}.
        Then $\overline{U}$ is an augmented simplicial object with $U_{n+1}=\overline{U}_n$.
        We claim that the natural transformation $\overline{U}|_{\N(\Delta)^{\op}}\to U$ induced by the inclusions $[n]\subset[n+1]$ is cartesian.
        
        Let $f\colon [m]\to[n]$ be a map in $\Delta$. 
        Then the diagram
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                \overline{U}_n=U_{n+1} \arrow[r] \arrow[d,"\overline{U}(f)"'] & U_n \arrow[d, "U(f)"] \\
                \overline{U}_m=U_{m+1} \arrow[r] \arrow[d,"{\overline{U}\left(\set{m}\subset[m+1]\right)}"'] & U_m \arrow[d,"{U\left(\set{m}\subset[m+1]\right)}"] \\
                \overline{U}_{\set{m}}=U_{\set{m,m+1}} \arrow[r] & U_{\set{m}}
            \end{tikzcd}
        \end{center}
        where the horizontal maps are given by the inclusions $[n]\xhookrightarrow{}[n+1]$, is commutative. 
        The bottom square is a pullback since $U$ is a groupoid object.
        The outer square is equivalent to
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                \overline{U}_n=U_{n+1} \arrow[r] \arrow[d,"{\overline{U}\left(\set{f(n)}\subset[n]\right)}"'] & U_n \arrow[d, "{U\left(\set{f(n)}\subset[n]\right)}"] \\
                \overline{U}_{\set{f(m)}}=U_{\set{f(m),n+1}} \arrow[r] & U_{\set{f(n)}}
            \end{tikzcd}
        \end{center}
        under the canonical identifications, thus it is also a pullback square since $U$ is a groupoid object.
        
        As the outer and bottom square are pullbacks, the upper square is a pullback by the pasting law.
        Thus the natural transformation $\overline{U}|_{\N(\Delta)^{\op}}\to U$ induced by the inclusions $[n]\xhookrightarrow{}[n+1]$ is cartesian.

        Descent now implies that 
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                \overline{U}_0 \arrow[r] \arrow[d] & \colim\limits_{\N(\Delta)^{\op}}\overline{U}|_{\N(\Delta)^{\op}} \arrow[d] \\
                U_0 \arrow[r] & \colim\limits_{\N(\Delta)^{\op}} U \\
            \end{tikzcd}
        \end{center}
        is a pullback diagram.
        Since by \cref{prop:shiftIsColimDiam} we have that $\colim\overline{U}|_{\N(\Delta)^{\op}}\cong\overline{U}_{-1} = U_0$ and $\overline{U}_0=U_1$ this proves the proposition.
    \end{proof}
\end{prop}
\begin{definition}[Effective Epimorphism]
    Let $C$ be an \inftycat/ with small limits and let $f\in C_1$ be a map.
    We say that $f$ is an \emph{effective epimorphism} if the \Cech/ nerve $\CN(f)$ is a colimit diagram.
\end{definition}
\begin{prop}\label{prop:mayRecognitionTheoremGroupoid}
    Let $C$ be an \inftytop/ and let $\Fun(\Delta^1,C)_{\text{eff}}\subset\Fun(\Delta^1,C)$ be the full subcategory of effective epimorphisms.  
    Then the functors
    \begin{equation*}
        F\colon\Gpd(C)\subset\Fun(\N(\Delta)^{\op},C)\xrightarrow{\colim}\Fun(\N(\Delta_+)^{\op},C)
    \end{equation*}
    and 
    \begin{equation*}
        G\colon\Fun(\Delta^1,C)_{\text{eff}}\subset\Fun(\Delta^1,C)\xrightarrow{\CN}\Fun(\N(\Delta_+)^{\op},C)
    \end{equation*}
    are fully faithful and have the same essential image in $\Fun(\N(\Delta_+)^{\op},C)$.
    
    Thus they induce an equivalence of \inftycats/ $\Gpd(C)\simeq\Fun(\Delta^1,C)_{\text{eff}}$.
    \begin{proof}
        Both functors are pointwise Kan-extensions along fully faithful functors:
        The functor $F$ is a left Kan-extension along $\N(\Delta)^{\op}\subset\N(\Delta_+)^{\op}$, and $G$ a right Kan-extension along $\Delta^1\subset\N(\Delta_+)^{\op}$.
        Thus they are both fully faithful by \cref{prop:exKanExt}.

        First, let $U$ be an element in the essential image of $G$. 
        Then by definition of an effective epimorphism it is already a colimit diagram, and since $U|_{\N(\Delta)^{\op}}$ is a groupoid, it is in the essential image of $F$.

        Now let $V$ be an element in the essential image of $F$. 
        Then by \cref{prop:groupoidObjInToposAreEffective} and \cref{cor:groupoidEffectiveIffColimCechNerve} we know that it is a \Cech/ nerve and therefore by definition in the essential image of $G$.
    \end{proof}
\end{prop}
\begin{definition}
    Let $C$ be an \inftycat/ with a terminal object.
    Then write $C_*\subset\Fun(\Delta^1,C)$ for the full subcategory of maps with domain a fixed terminal object $*\in C_0$.
    We call $C_*$ the \emph{\inftycat/ of pointed objects}, and we call an object $X$ in $C_*$ a \emph{pointed object in $C$}.
\end{definition}
\begin{remark}
    Since terminal objects are essentially unique, choosing different terminal objects induces equivalent models of \inftycats/ of pointed objects.
\end{remark}
\begin{definition}\label{def:catOfPtdConnObj}
    Let $C$ be an \inftycat/ with small limits and let $\Conn(C_*)\subset C_*$ be the full subcategory of effective epimorphisms.
    We call $\Conn(C_*)$ the \emph{\inftycat/ of pointed connected objects}.
\end{definition}
\begin{remark}
    We will later introduce notions of higher connectedness. 
    It will follow from \cref{prop:conn} \ref{prop:connSection} that the notion of a connected pointed space $*\to X$ here means that the space $X$ is $0$-connected in the language of \cref{def:connected}, which is why we call these objects connected.
\end{remark}
\begin{corollary}[Delooping of Pointed Connected Objects]\label{prop:mayRecognitionTheoremGroup}
    Let $C$ be an \inftytop/. 
    Then the equivalence of \inftycats/ from \cref{prop:mayRecognitionTheoremGroupoid} restricts to an equivalence $\Grp(C)\simeq\Conn(C_*)$.
    \begin{proof}
        This follows immediately from the definition of group objects.
    \end{proof}
\end{corollary}
\addcontentsline{toc}{subsection}{Delooping of Pointed Connected Objects in $\spaces$}
\subsection*{Delooping of Pointed Connected Objects in $\spaces$}
We now want to check that pointed connected objects in a general \inftytop/ coincide with pointed connected spaces in the \inftytop/ $\spaces$.
Thus we recover the statement of the May Recognition Theorem for $n=1$, which says that a pointed connected space is equivalent to a loop space if and only if it admits the structure of a group object in $\Top$. 
\begin{definition}
    Let $C$ be an \inftytop/.
    With the convention that the $(-2)$-truncated maps are the equivalences, we recursively define that a map $f\colon X\to Y$ in $C$ is \emph{$k$-truncated} for $k\geq -1$ if the diagonal map $X\to X\times_YX$ is $(k-1)$-truncated.
    
    We consider an object $X$ to be \emph{$k$-truncated} if the map $X\to *$ is $k$-truncated.
\end{definition}
\begin{remark}
    There is ``another'' definition of truncatedness in $\Top$:

    A space $X$ in $\Top$ is 
    \begin{itemize}
        \item \emph{topologically $(-2)$-truncated} if it is contractible 
        \item \emph{topologically $n$-truncated} for $n\in\Nat\cup\set{-1}$ if for all $x\in X$ and $k>n$, we have $\pi_k(X,x)\cong 0$.
    \end{itemize}
    A map $f\colon X\to Y$ in $\Top$ is \emph{topologically $n$-truncated} for $n\in\Nat\cup\set{-2,-1}$ if all its homotopy fibers are $n$-truncated.
    
    This definition agrees with the definition of truncatedness in $\spaces$:
    \begin{itemize}
        \item A topologically $(-2)$-truncated map is precisely a weak equivalence in $\Top$, hence $(-2)$-truncated in $\spaces$.
        \item For $n\geq -1$, the pullback square
        \begin{center}
            \begin{tikzcd} [sep = 4em]
                X\times_{Y} X \arrow[r, "g"] \arrow[d, "g"] & X \arrow[d, "f"] \\
                X \arrow[r, "f"] & Y \\
            \end{tikzcd}
        \end{center}
        in $\spaces$ shows that $f$ is $n$-truncated if and only if $g$ is $n$-truncated by the fiberwise characterization of homotopy pullbacks. %TODO cref this fiberwise characterization
        (Note that a map is $(-1)$-truncated if and only if its homotopy fibers are contractible or empty.)
        Furthermore, the universal map $s\colon X\to X\times_Y X$ is a section of $g$ in $\spaces$.
        Inspection of the long exact sequences of homotopy groups shows that $g$ is topologically $n$-truncted if and only if the section $s$ is topologically $(n-1)$-truncated.

        This allows us to recursively reduce to the case of $f\colon X\to Y$ being $(-2)$-truncated, in which we have already seen that both definitions coincide.
    \end{itemize}
\end{remark}
\begin{definition}
    Let $C$ be an \inftytop/ and let $\Disc(C)\subset C$ be the full subcategory of $0$-truncated objects.
    We call $\Disc(C)$ the \emph{\inftycat/ of discrete objects of $C$}.
\end{definition}
\begin{prop}\label{prop:inclOfSetIsFF}
    There is a canonical fully faithful functor $i\colon\N(\Set)\to\spaces$ whose essential image consists precisely of $\Disc(\spaces)$.
    Furthermore, this functor $i$ has $\pi_0\colon\spaces\to\N(\Set)$ (induced by the path-connected component functor $\pi_0\colon\Top\to\Set$) as a left adjoint.
    \begin{reference}
        \cite[Proposition 7.8.3]{cisinski_2019}
    \end{reference}
\end{prop}
\begin{prop}\label{prop:testEffEpiInDisc}
    Let $C$ be an \inftytop/ and let $\tau\colon C\to\Disc(C)$ be a left adjoint to the inclusion $\Disc(C)\subset C$.
    Then a map $f$ in $C$ is an effective epimorphism if and only if $\tau(f)$ is an effective epimorphism in the ordinary category $\ho(\Disc(C))$ (via \cref{rmk:boardmanVogt}).
    \begin{reference}
        \cite[Proposition 7.2.1.14]{HTT}
    \end{reference}
\end{prop}
\begin{remark}
    It follows from \cite[Lemma 5.5.6.15]{HTT}, \cite[Proposition 2.3.4.18]{HTT} and \cite[Proposition 2.3.4.5]{HTT} that $\Disc(C)\to\N(\ho(\Disc(C)))$ is in fact an isomorphism.
\end{remark}
\begin{prop}\label{prop:effInSpaceIffSurj}
    A map $f\colon x\to y$ in $\spaces$ is an effective epimorphism if and only if it induces a surjection on connected components.
    \begin{proof}
        First, by \cref{prop:inclOfSetIsFF} there is a fully faithful functor $i\colon\N(\Set)\to\spaces$ whose essential image consists precisely of the discrete objects and has $\pi_0\colon\spaces\to\N(\Set)$ as a left adjoint.
        By \cref{prop:testEffEpiInDisc} the statement of the lemma is thus equivalent to checking whether $\pi_0(f)$ is an effective epimorphism in $\Set$.
        In $\Set$, computation shows that the effective epimorphisms are exactly the surjective morphisms, hence a map $f$ in $\spaces$ is an effective epimorphism precisely if $\pi_0(f)$ is surjective.
    \end{proof}
\end{prop}
\begin{corollary}
    Let $x\colon*\to X\in\spaces_1$ be a map.
    Then $x$ is an effective epimorphism if and only if $X$ is path-connected as a topological space.
    \begin{proof}
        This follows from \cref{prop:effInSpaceIffSurj} and the fact that $*$ has exactly one connected component.
    \end{proof}
\end{corollary}
\begin{remark}
    By the definition of loop spaces and explicit computation, the \Cech/ nerve of an effective map $x\colon*\to X$ in $\Top$ (meaning $X$ is a pointed connected space) is given by
    \begin{center}
        \begin{tikzcd}
            & \CN(x)_3 & \CN(x)_2 & \CN(x)_1 & \CN(x)_0 &  \CN(x)_{-1} \\ 
            \ldots \arrow[r] \arrow[r, yshift=-1em] \arrow[r, yshift=1em] \arrow[r, yshift=-2em] \arrow[r, yshift=2em] 
            & \Omega X\times\Omega X\times\Omega X \arrow[r, yshift=.5em] \arrow[r, yshift=-.5em] \arrow[r, yshift=1.5em] \arrow[r, yshift=-1.5em] \arrow[l, yshift=.5em] \arrow[l, yshift=-.5em] \arrow[l, yshift=1.5em] \arrow[l, yshift=-1.5em]
            & \Omega X\times\Omega X\arrow[r] \arrow[r, yshift=-1em] \arrow[r, yshift=1em] \arrow[l] \arrow[l, yshift=-1em] \arrow[l, yshift=1em]
            & \Omega X \arrow[r, yshift=.5em] \arrow[r, yshift=-.5em] \arrow[l, yshift=.5em] \arrow[l, yshift=-.5em]
            & * \arrow[l] \arrow[r, "x"] & X
        \end{tikzcd}
    \end{center}
    where
    \begin{itemize}
        \item the map induced by a face map 
        \begin{itemize}
            \item $d_0^n$ is $(\gamma_1,\gamma_2,\ldots,\gamma_n)\mapsto(\gamma_2,\ldots,\gamma_n)$
            \item $d_n^n$ is $(\gamma_1,\ldots,\gamma_{n-1},\gamma_n)\mapsto(\gamma_1,\ldots,\gamma_{n-1})$
            \item $d_k^n$ for $0<k<n$ is $(\gamma_1,\ldots,\gamma_k,\gamma_{k+1},\ldots,\gamma_n)\mapsto(\gamma_1,\ldots,\gamma_k*\gamma_{k+1},\ldots,\gamma_n)$ where $*$ denotes concatenation of loops
        \end{itemize}
        \item the map induced by a degeneracy map $s_k^n$ is injecting the constant loop $c_x$ at the $k$-th position.
    \end{itemize}
    We can thus view the map $\Conn(\spaces_*)\to\Grp(\spaces)$ as being a canonically enriched version of the loop space functor.
    The statement of \cref{prop:mayRecognitionTheoremGroup} therefore allows us to recognize whether a pointed connected space $*\to X$ is deloopable:

    It is deloopable if and only if there exists a group object $U\colon\N\left(\Delta\right)^{\op}\to\spaces$ such that the unique constant map $[1]\to[0]$ in $\Delta$ is sent to the map $*\to X\in \spaces_1$ by $U$ (hence $U_n\simeq X\times\ldots\times X$ with $X$ appearing $n$ times).
    The delooping is then given by taking the colimit of this diagram and taking the canonical map $A\colon*\to\colim U$ to be a pointed space, as this fulfills $\Omega A\simeq X$.
\end{remark}