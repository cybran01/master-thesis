%TODO define how partially ordered sets give rise to a category, definition of [n]
\begin{definition}[Simplex Category]
    Let $\Delta$ be the category with
    \begin{itemize}
        \item objects the categories $[n]=\{0\to1\to\ldots\to n\}\subset\Nat$ for all $n\in\Nat$
        \item morphisms functors between these categories (which are exactly monotone increasing functions).
    \end{itemize}
    We call this category the \emph{simplex category $\Delta$}.
\end{definition}
\begin{definition}[Augmented Simplex Category]
    Let $\Delta_+$ be the category with
    \begin{itemize}
        \item objects the categories $[n]$ for all $n\in\Nat$ and $[-1]=\emptyset$
        \item morphisms functors between these categories (which again are exactly the monotone increasing functions).
    \end{itemize}
    We call this category the \emph{augmented simplex category $\Delta_+$}.
\end{definition}
%TODO definition of sSet as simplicial category
%TODO model structure(s) on sSet, def Kan complex and \inftycat/
\begin{definition}[Nerve of an Ordinary Category] %TODO maybe explain why it commutes with limits
    For a category $C$, we denote the composition $\Hom_{\Cat}(-,C)\circ i$ as $\Hom_{\Delta}(-,C)$, where $i:\Delta\xhookrightarrow{}\Cat$ is the inclusion as a full subcategory.
    Let $\N\colon\Cat\to\sSet$ be the functor that sends
    \begin{itemize}
        \item a category $C$ to the simplicial set $\Hom_{\Delta}(-,C)$
        \item a functor $F:C\to D$ to $\N(F)\colon\Hom_{\Delta}(-,C)\xrightarrow{F\circ -}\Hom_{\Delta}(-,D)$\;.
    \end{itemize}
    We then call $\N(C)$ the \emph{nerve of the category $C$}.
\end{definition}
\begin{lemma} %Kerodon Proposition 1.2.2.1
    The nerve functor $\N\colon\Cat\to\sSet$ is fully faithful and has a left adjoint $\ho\colon\sSet\to\Cat$ which we call the \emph{homotopy category} of a simplicial set.
\end{lemma}
%TODO define \Cat_{\Delta} as category of simplicially enriched categories
\begin{construction}[The Homotopy Coherent Nerve]
    For $[n]\in\Delta$ we define a simplicial category $\C[n]$ as follows:
    \begin{itemize}
        \item the objects of $\C[n]$ are the elements of the set $\set{0,\ldots,n}$
        \item for $i,j\in\set{0,\ldots,n}$, the simplicial $\Hom$-objects are given by 
            \begin{equation*}
                \Hom_{\C[n]}(i,j)=\N(P_{i,j})
            \end{equation*}
            where $P_{i,j}$ is the partially ordered set of subsets of $\set{i,\ldots,j}$ which contain both $i$ and $j$ with the relation given by reverse inclusion
        \item for $i,j,k\in\set{0,\ldots,n}$ the composition is given by $\N(-)$ applied to the map
        \begin{align*}
                P_{i,j}\times P_{j,k}&\to P_{i,k}\\
                (I,J)&\mapsto I\cup J
        \end{align*}
    \end{itemize}.
    For a morphism $[n]\to[m]\in\Delta$ we can define a functor
    \begin{equation*}
        \C[f]\colon\C[n]\to C[m]
    \end{equation*}
    which
    \begin{itemize}
        \item sends an object $i\in\C[n]$ to $f(i)\in\C[m]$
        \item for $i,j\in\C[n]$ induces a map between $\Hom$-objects by applying $\N(-)$ to the map
            \begin{align*}
                P_{i,j}&\to P_{f(i),f(j)}\\
                I&\mapsto f(I)
            \end{align*}
    \end{itemize}
    so we obtain a functor $\C[-]\colon\Delta\to\Cat_{\Delta}$.
\end{construction}
\begin{definition}[Homotopy Coherent Nerve] %HTT Definition 1.1.5.1. 
    For a simplicial category $A$ we define the \emph{simplicial nerve (or homotopy coherent nerve) $\Nhc(A)$ of $A$} as $\Nhc(A)=\Hom_{\Cat_{\Delta}}(\C[-],A)$ and thus we obtain a functor $\Nhc\colon\Cat_{\Delta}\to\sSet$.
\end{definition}
\begin{prop} %HTT Theorem 2.4.5.1.
    Let $A$ be a simplicial category such that for every pair of objects $X,Y\in A$ the simplicial set $\Hom_A(X,Y)$ is a Kan-complex.
    Then $\Nhc(A)$ is an \inftycat/.
\end{prop}
\begin{corollary}
    Let $M$ be a simplicial model category.
    Then the simplicial set $\Nhc(M^째)$ where $M^째$ denotes the restriction to cofibrant-fibrant objects is an \inftycat/.
    \begin{proof}
        The axioms of a simplicial model category imply that for every pair of objects $X,Y\in M^째$ the simplicial set $\Hom_{M^째}(X,Y)$ is a Kan-complex.
    \end{proof}
\end{corollary}
\begin{definition}[Simplicial Localization] %TODO define localization CatLR Definition 7.1.2. and add existence
    Let $C$ be a simplicial set and $W\subset C$ be a simplicial subset.

    For a given \inftycat/ $D$, let $\Fun_W(C,D)\subset\Fun(C,D)$ be the full subcategory of functors $f\colon C\to D$ such that for every map in $u\in W_1$, $f(u)$ is invertible.
    Then a \emph{localization of $C$ by $W\subset C$} is an \inftycat/ $C[W^{-1}]$ together with a functor $\gamma\in\Fun_W(C, C[W^{-1}])$ such that for every \inftycat/ $D$, $\gamma$ induces an equivalence of \inftycats/
    \begin{equation*}
        \Fun(C[W^{-1}],D)\xrightarrow{\sim}\Fun_W(C,D)\;.
    \end{equation*}
\end{definition}
\begin{lemma}
    Let $C$ be a simplicial set and $W\subset C$ be a simplicial subset.
    Then the localization map $\gamma\colon C\to C[W^{-1}]$ is essentially surjective.
\end{lemma}
%TODO define (co)limits and prove/state that they are computed pointwise in Functorcats HTT Proposition 5.1.2.2., HTT Corollary 5.1.2.3.
\begin{definition} %kerodon Definition 7.3.2.1
    Let $F\colon C\to D$ be a functor between \inftycats/ and let $C_0\subset C$ be a full subcategory.
    Then $F$ is \emph{right Kan-extended from $C_0$} if for all objects $c\in C$ the diagram
    \begin{equation*}
        \left(C_{c/}\times_C C_0\right)^{\lhd}\to \Delta^0\star C_{c/}\xrightarrow{c} C\to D
    \end{equation*}
    where the map $c\colon\Delta^0\star C_{c/}\to C$ is the contraction map, is a limit cone.

    Dually, $F$ is \emph{left Kan-extended from $C_0$} if for all objects $c\in C$ the diagram
    \begin{equation*}
        \left(C_{/c}\times_C C_0\right)^{\rhd}\to C_{/c}\star\Delta^0 \xrightarrow{c} C\to D
    \end{equation*}
    where the map $c\colon C_{/c}\star\Delta^0\to C$ is the contraction map, is a colimit cone.
\end{definition}
%TODO Kan-ext induce adjoints
\begin{prop} %TODO kerodon Proposition 7.3.5.1
    Let $C$ be an \inftycat/, $C_0\subset C$ a full subcategory and $F\colon C_0\to D$ a functor between \inftycats/.
    If $D$ is complete, then there exists a functor $F\colon C\to D$ that is right Kan-extended from $C_0$.

    Dually if $C$ is cocomplete, then then there exists a functor $F\colon C\to D$ that is left Kan-extended from $C_0$.
    Furthermore, both Kan-extensions are fully faithful.
    \begin{proof}
        %TODO maybe?
    \end{proof}
\end{prop}
%TODO kerodon Proposition 7.3.5.1. for existence of Kan ext